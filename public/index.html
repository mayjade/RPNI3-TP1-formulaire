<!DOCTYPE html>
<html lang="fr-CA">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <title>Formulaire en 3 étapes</title>
    <script defer src="js/scripts.js"></script>
</head>

<body>
    <header>
        <h1>Faire un don</h1>
        
        <svg xmlns="http://www.w3.org/2000/svg" width="39" height="39" fill="none"><path fill="#000" d="M19.5 38.25c-2.563 0-4.984-.492-7.266-1.478-2.28-.984-4.273-2.328-5.975-4.03s-3.046-3.695-4.031-5.976C1.243 24.484.75 22.063.75 19.5c0-2.594.493-5.023 1.478-7.288.985-2.265 2.328-4.25 4.03-5.953s3.695-3.048 5.976-4.031C14.516 1.244 16.938.75 19.5.75c2.594 0 5.024.493 7.29 1.478a19.079 19.079 0 0 1 5.951 4.03 19.144 19.144 0 0 1 4.031 5.954c.987 2.266 1.48 4.696 1.478 7.288 0 2.563-.493 4.984-1.478 7.266-.985 2.28-2.328 4.273-4.03 5.977a19.057 19.057 0 0 1-5.954 4.031c-2.266.984-4.696 1.476-7.288 1.476zm0-3.844a23.807 23.807 0 0 0 2.11-3.515A22.196 22.196 0 0 0 23.062 27h-7.125c.374 1.375.859 2.672 1.453 3.89a23.807 23.807 0 0 0 2.109 3.516zm-4.875-.75a25.848 25.848 0 0 1-1.476-3.212A27.931 27.931 0 0 1 12.094 27H6.563a15.55 15.55 0 0 0 3.399 4.078 13.503 13.503 0 0 0 4.663 2.578zm9.75 0a13.5 13.5 0 0 0 4.665-2.578A15.519 15.519 0 0 0 32.437 27h-5.53a27.681 27.681 0 0 1-1.055 3.446 25.583 25.583 0 0 1-1.477 3.21zM4.969 23.25h6.375a25.442 25.442 0 0 1-.21-1.85 25.68 25.68 0 0 1 0-3.797c.048-.608.118-1.226.21-1.853H4.969c-.157.625-.273 1.242-.35 1.853a15.39 15.39 0 0 0 0 3.796c.08.612.196 1.228.35 1.851zm10.125 0h8.812a23.872 23.872 0 0 0 .281-3.75 25.6 25.6 0 0 0-.07-1.897 25.783 25.783 0 0 0-.21-1.853h-8.813a25.466 25.466 0 0 0-.21 1.853 25.705 25.705 0 0 0 0 3.796c.049.612.119 1.228.21 1.851zm12.562 0h6.375c.156-.625.274-1.242.353-1.85.078-.61.117-1.242.116-1.9s-.04-1.29-.116-1.897a15.325 15.325 0 0 0-.353-1.853h-6.375a24.146 24.146 0 0 1 .281 3.75 25.185 25.185 0 0 1-.281 3.75zM26.906 12h5.532a15.57 15.57 0 0 0-3.398-4.078 13.479 13.479 0 0 0-4.665-2.578c.563 1.031 1.055 2.102 1.478 3.212s.773 2.258 1.053 3.444zm-10.968 0h7.125a22.197 22.197 0 0 0-1.454-3.89A23.809 23.809 0 0 0 19.5 4.593a23.809 23.809 0 0 0-2.11 3.515A22.197 22.197 0 0 0 15.938 12zm-9.375 0h5.53c.282-1.188.634-2.336 1.056-3.446s.915-2.18 1.476-3.21c-1.75.562-3.305 1.422-4.665 2.578S7.467 10.438 6.563 12z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="31" height="31" fill="none"><path fill="#000" d="M15.5 15.5c-2.063 0-3.828-.734-5.297-2.203C8.734 11.828 8 10.062 8 8c0-2.063.734-3.828 2.203-5.297C11.672 1.234 13.438.5 15.5.5c2.063 0 3.828.734 5.297 2.203C22.266 4.172 23 5.938 23 8c0 2.063-.734 3.828-2.203 5.297-1.469 1.469-3.235 2.203-5.297 2.203ZM.5 26.75v-1.5c0-1.063.274-2.039.821-2.929a5.493 5.493 0 0 1 2.179-2.04 27.794 27.794 0 0 1 5.906-2.178 25.891 25.891 0 0 1 12.188 0c2 .486 3.968 1.212 5.906 2.178a5.472 5.472 0 0 1 2.18 2.04c.548.891.821 1.868.82 2.929v1.5c0 1.031-.367 1.914-1.1 2.65-.734.734-1.617 1.101-2.65 1.1H4.25c-1.031 0-1.914-.367-2.647-1.1C.869 28.665.5 27.782.5 26.75Zm3.75 0h22.5v-1.5a1.813 1.813 0 0 0-.938-1.594 24.396 24.396 0 0 0-5.109-1.897 21.842 21.842 0 0 0-5.203-.634c-1.75-.001-3.484.21-5.203.634a24.68 24.68 0 0 0-5.11 1.897 1.832 1.832 0 0 0-.68.657 1.745 1.745 0 0 0-.257.937v1.5Zm11.25-15c1.031 0 1.914-.367 2.65-1.1.734-.734 1.101-1.617 1.1-2.65a3.615 3.615 0 0 0-1.1-2.647A3.624 3.624 0 0 0 15.5 4.25c-1.034-.003-1.916.365-2.648 1.103-.73.737-1.098 1.62-1.102 2.647-.004 1.027.364 1.91 1.102 2.65.74.738 1.622 1.105 2.648 1.1Z"/></svg>

        <nav aria-label="Principal">
            <ol>
                <li aria-current="page" id="etat1">
                    <a data-etape="1" href="#etape1" >
                    <span class="hors-ecran">Étape 1 </span>
                    Montant</a>
                </li>
                <li  id="etat2">
                    <a data-etape="2" href="#etape2"><span class="hors-ecran">Étape 2 </span>
                    Coordonnées</a>
                </li>
                <li id="etat3">
                    <a data-etape="3" href="#etape3"><span class="hors-ecran">Étape 3 </span>
                    Paiement</a>
                </li>
            </ol>
        </nav>
    </header>
    
    <main>
    <form class="formulaire" id="formulaire" action="/submit" method="post">
        <fieldset name="etape" id="etape1">
            <legend class="titreNiveau2">1. Montant</legend>
            <fieldset aria-invalid="true" aria-describedby="err_typeDon" role="radiogroup">
                <legend class="cacher">Type de don:</legend>
                <input type="radio" id="unique" class="hors-ecran" name="typeDon" value="unique" aria-describedby="err_typeDon">
                <label for="unique">Don unique</label>
                <input type="radio" id="mensuel" class="hors-ecran" name="typeDon" value="mensuel" aria-describedby="err_typeDon">
                <label for="mensuel">Don mensuel</label>
            </fieldset>
            <span id="err_typeDon" class="erreur" role="alert" aria-live="polite"></span>

            <fieldset aria-invalid="true" aria-describedby="err_montant" role="radiogroup">
                <legend class="cacher">Montant</legend>
                <input type="radio" id="valeur15" name="montant" value="15.00" >
                <label for="valeur15">15$</label>
                <input type="radio" id="valeur25" name="montant" value="25.00" >
                <label for="valeur25">25$</label>
                <input type="radio" id="valeur50" name="montant" value="50.00" >
                <label for="valeur50">50$</label>
                <input type="radio" id="valeur75" name="montant" value="75.00" >
                <label for="valeur75">75$</label>
                <input type="radio" id="valeur100" name="montant" value="100.00" >
                <label for="valeur100">100$</label>
                <input type="radio" id="autreMontant" name="montant" value="autre" >
                <label for="autreMontant">Autre</label>
                <div id="montantPerso">
                    <label>
                        Montant personnalisé:
                        <input type="text" name="montant" placeholder="0$">
                    </label>
                </div>
                
            </fieldset>
            <span id="err_montant" class="erreur" role="alert" aria-live="polite"></span>
        </fieldset>

        <fieldset name="etape" id="etape2">
            <legend class="titreNiveau2">2. Vos coordonnées</legend>

            <label for="prenom">Prénom*</label>
            <input type="text" id="prenom" name="prenom" placeholder="Prénom" autocomplete="given-name" pattern="^[a-zA-ZÀ-ÿ]+$" aria-invalid="true" aria-describedby="err_prenom" required>
            <span id="err_prenom" class="erreur" role="alert" aria-live="polite"></span>
            
            <label for="nom">Nom*</label>
            <input type="text" id="nom" name="nom" placeholder="Nom" autocomplete="family-name" pattern="^[a-zA-ZÀ-ÿ]+$" aria-invalid="true" aria-describedby="err_nom" required>
            <span id="err_nom" class="erreur" role="alert" aria-live="polite"></span>
            
            <label for="email">Courriel*</label>
            <input type="email" id="email" name="email" placeholder="Courriel" autocomplete="email" pattern="
            ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" aria-invalid="true" aria-describedby="err_email" required>
            <span id="err_email" class="erreur" role="alert" aria-live="polite"></span>
            
            <input type="checkbox" name="infolettre" id="infolettre">
            <label for="infolettre">Je veux être au courant des nouveautés chez Équiterre.</label>
            
            <label for="tel">Téléphone*</label>
            <input type="tel" id="tel" name="telephone" placeholder="(418) 123-4567" autocomplete="tel" pattern="^\(?[0-9]{3}\)? ?[0-9]{3}-?[0-9]{4}$" aria-invalid="true" aria-describedby="err_tel" required>
            <span id="err_tel" class="erreur" role="alert" aria-live="polite"></span>
            

            <fieldset>
                <legend class="cacher">Adresse</legend>
                <label for="country">Pays*</label>
                <select name="country" id="country" aria-invalid="true" aria-describedby="err_country" required>
                    <option value="">Choisir un pays</option>
                </select>
                <span id="err_country" class="erreur" role="alert" aria-live="polite"></span>
            
                <div id="provinceConteneur">
                    <label for="province">Province*</label>
                    <select id="province" name="province" aria-invalid="true" aria-describedby="err_province">
                        <option value="">Choisir une province</option>
                    </select>
                    <span id="err_province" class="erreur" role="alert" aria-live="polite"></span>
                </div>
                <label for="adresse">Adresse*</label>
                <input name="adresse" id="adresse" placeholder="Adresse" type="text" value="" maxlength="100" pattern="^[0-9]+[a-zA-ZÀ-ÿ0-9 \-]+$" aria-invalid="true" aria-describedby="err_adresse" required>
                <span id="err_adresse" class="erreur" role="alert" aria-live="polite"></span>
                <label for="appbureau" class="">App. / bureau</label>
                <input id="appbureau" name="appbureau" type="text" placeholder="App. / bureau" value="" maxlength="25">
                <label for="ville" class="">Ville*</label>
                <input id="ville" name="ville" type="text" placeholder="Québec" value="" maxlength="25" aria-invalid="true" required>
                <span id="err_ville" class="erreur" role="alert" aria-live="polite"></span>
                <label for="postalcode" class="">Code postal*</label>
                <input id="postalcode" name="codepostal" type="text" autocomplete="postal-code" placeholder="A1A 1A1" value="" maxlength="7" pattern="^[a-zA-Z][0-9][a-zA-Z] [0-9][a-zA-Z][0-9]$" aria-invalid="true" aria-describedby="err_postalcode" required>
                <span id="err_postalcode" class="erreur" role="alert" aria-live="polite"></span>
            </fieldset>

        
        </fieldset>
       
        <fieldset name="etape" id="etape3" aria-invalid="true">
            <legend class="titreNiveau2">3. Paiement</legend>
            
            <label for="titulaire">Nom du titulaire*</label>
            <input type="text" id="titulaire" name="titulaire" placeholder="Prénom Nom" autocomplete="given-name" pattern="^(?=.{2,50}$)\p{L}+(?:[ '\-]\p{L}+)*$" aria-invalid="true" aria-describedby="err_titulaire" required>
            <!-- l'attribut pattern du titulaire a été généré par chat GPT -->
            <span id="err_titulaire" class="erreur" role="alert" aria-live="polite"></span>
            
            <label for="cc"> Numéro de carte de crédit*</label>
            <input id="cc" type="text" name="nocartecredit" inputmode="numeric" autocomplete="cc-number" placeholder="1111 1111 1111 1111" maxlength="16" pattern="^[0-9]{4}[ ]?[0-9]{4}[ ]?[0-9]{4}[ ]?[0-9]{4}$" aria-invalid="true" aria-describedby="err_cc" required>
            <span id="err_cc" class="erreur" role="alert" aria-live="polite"></span>
            
            <label for="expiration">Date d'expiration*</label>
            <input id="expiration" type="month" name="expiration" autocomplete="cc-exp" aria-invalid="true" aria-describedby="err_expiration" required>
            <span id="err_expiration" class="erreur" role="alert" aria-live="polite"></span>
            
            <label for="securitycode">Code de sécurité*</label>
            <input id="securitycode" type="text" name="codesecurite" inputmode="numeric" autocomplete="cc-csc" placeholder="123" maxlength="4" pattern="^[0-9]{3-4}$" aria-invalid="true" aria-describedby="err_securitycode" required>
            <span id="err_securitycode" class="erreur" role="alert" aria-live="polite"></span>

            <!-- données à modifier selon ce qui sera choisi -->
            <h3>Résumé du don</h3>
            <p>Prénom Nom</p>
            <p>Montant de 25$ mensuel</p>
        </fieldset>       
        
        <fieldset name="etape" id="etape4">
            <legend class="titreNiveau3">Merci pour votre don!</legend>
        </fieldset>
      </form>
        <button class="bouton" type="button" id="btn-precedent">Précédent</button>
        <button class="bouton" type="button" id="btn-suivant">Suivant</button>
        <button class="bouton" type="submit" id="btn-envoyer">Envoyer mon don</button>
    </main>

    <footer>
        <small>Tous droits réservés.</small>
    </footer>
</body>

</html>

