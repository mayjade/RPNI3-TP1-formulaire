<!DOCTYPE html>
<html lang="fr-CA">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <title>Formulaire en 3 étapes</title>
    <script defer src="js/scripts.js"></script>
</head>

<body>
    <header>
        <h1>Faire un don</h1>
        <nav aria-label="Principal">
            <ol>
                <li aria-current="step" id="etat1">
                    <a href="index.html" aria-current="page">
                    <span class="hors-ecran">Étape 1 </span>
                    Montant</a>
                </li>
                <li  id="etat2">
                    <span class="hors-ecran">Étape 2 </span>
                    Coordonnées
                </li>
                <li id="etat3">
                    <span class="hors-ecran">Étape 3 </span>
                    Paiement
                </li>
            </ol>
        </nav>
    </header>
    
    <main>
    <form class="formulaire" id="formulaire" action="/submit" method="post">
        <fieldset name="etape" id="etape1">
            <legend class="titreNiveau2">1. Montant</legend>
            <fieldset aria-invalid="true" aria-describedby="err_typeDon" role="radiogroup" required>
                <legend class="cacher">Type de don:</legend>
                <input type="radio" id="unique" class="hors-ecran" name="typeDon" value="unique" aria-describedby="err_typeDon">
                <label for="unique">Don unique</label>
                <input type="radio" id="mensuel" class="hors-ecran" name="typeDon" value="mensuel" aria-describedby="err_typeDon">
                <label for="mensuel">Don mensuel</label>
            </fieldset>
            <span id="err_typeDon" class="erreur" role="alert" aria-live="polite"></span>

            <fieldset aria-invalid="true" aria-describedby="err_montant" role="radiogroup" required>
                <legend class="cacher">Montant</legend>
                <input type="radio" id="valeur15" name="montant" value="15.00" >
                <label for="valeur15">15$</label>
                <input type="radio" id="valeur25" name="montant" value="25.00" >
                <label for="valeur25">25$</label>
                <input type="radio" id="valeur50" name="montant" value="50.00" >
                <label for="valeur50">50$</label>
                <input type="radio" id="valeur75" name="montant" value="75.00" >
                <label for="valeur75">75$</label>
                <input type="radio" id="valeur100" name="montant" value="100.00" >
                <label for="valeur100">100$</label>
                <input type="radio" id="autreMontant" name="montant" value="autre" >
                <label for="autreMontant">Autre</label>
                <div id="montantPerso">
                    <label>
                        Montant personnalisé:
                        <input type="text" name="montant" placeholder="0$">
                    </label>
                </div>
                
            </fieldset>
            <span id="err_montant" class="erreur" role="alert" aria-live="polite"></span>
        </fieldset>

        <fieldset name="etape" id="etape2">
            <legend class="titreNiveau2">2. Vos coordonnées</legend>
            <label>
                Prénom*
                <input type="text" id="prenom" name="prenom" placeholder="Prénom" aria-describedby="txt" autocomplete="given-name" pattern="^[a-zA-ZÀ-ÿ]+$" aria-invalid="true" aria-describedby="err_prenom" required>
                <span id="err_prenom" class="erreur" role="alert" aria-live="polite"></span>
            </label>
            <label>
                Nom*
                <input type="text" id="nom" name="nom" placeholder="Nom" aria-describedby="txt" autocomplete="family-name" pattern="^[a-zA-ZÀ-ÿ]+$" aria-invalid="true" aria-describedby="err_nom" required>
                <span id="err_nom" class="erreur" role="alert" aria-live="polite"></span>
            </label>
            <label>
                Courriel*
                <input type="email" id="email" name="email" placeholder="Courriel" autocomplete="email" pattern="
                ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" aria-invalid="true" aria-describedby="err_email" required>
                <span id="err_email" class="erreur" role="alert" aria-live="polite"></span>
            </label>
            <input type="checkbox" name="infolettre" id="infolettre">
            <label for="infolettre"><small>Je veux être au courant des nouveautés chez Équiterre.</small></label>
            <label>
                Téléphone*
                <input type="tel" id="tel" name="telephone" placeholder="(418) 123-4567" autocomplete="tel" pattern="^\(?([0-9]{3})\)?[ ]?([0-9]{3})[-]?([0-9]{4})$" aria-invalid="true" aria-describedby="err_tel" required>
                <span id="err_tel" class="erreur" role="alert" aria-live="polite"></span>
            </label>

            <fieldset>
                <legend class="cacher">Adresse</legend>
                <label for="country">Pays*</label>
                <select name="country" id="country" aria-invalid="true" aria-describedby="err_country" required>
                    <option value="">Choisir un pays</option>
                </select>
                <span id="err_country" class="erreur" role="alert" aria-live="polite"></span>
            
                <div id="provinceConteneur">
                    <label for="province">Province*</label>
                    <select id="province" name="province" aria-invalid="true" aria-describedby="err_province">
                        <option value="">Choisir une province</option>
                    </select>
                    <span id="err_province" class="erreur" role="alert" aria-live="polite"></span>
                </div>
                        <label for="adresse">Adresse*</label>
                        <input name="adresse" id="adresse" placeholder="adresse" type="text" autocomplete="street-address" value="" maxlength="100" pattern="^[0-9]+[a-zA-ZÀ-ÿ0-9 \-]+$" aria-invalid="true" aria-describedby="err_address" required/>
                        <span id="err_adresse" class="erreur" role="alert" aria-live="polite"></span>
                        <label for="appbureau" class="">App. / bureau</label>
                        <input id="appbureau" name="appbureau" type="text" placeholder="App. / bureau" value="" maxlength="25"/>
                        <label for="ville" class="">Ville*</label>
                        <input id="ville" name="ville" type="text" placeholder="Québec" value="" maxlength="25" aria-invalid="true" required/>
                        <span id="err_ville" class="erreur" role="alert" aria-live="polite"></span>
                        <label for="postalcode" class="">Code postal*</label>
                        <input id="postalcode" name="codepostal" type="text" autocomplete="postal-code" placeholder="A1A 1A1" value="" maxlength="7" pattern="^[a-zA-Z][0-9][a-zA-Z] [0-9][a-zA-Z][0-9]$" aria-invalid="true" aria-describedby="err_postalcode" required/>
                        <span id="err_postalcode" class="erreur" role="alert" aria-live="polite"></span>
            </fieldset>

        
        </fieldset>
       
        <fieldset name="etape" id="etape3" aria-invalid="true" aria-describedby="err_paiement" required>
            <legend class="titreNiveau2">3. Paiement</legend>
            
            <label>
                Nom du titulaire*
                <input type="text" id="titulaire" name="titulaire" placeholder="Prénom Nom" aria-describedby="txt" autocomplete="given-name" pattern="^(?=.{2,50}$)\p{L}+(?:[ '\-]\p{L}+)*$" aria-invalid="true" aria-describedby="err_titulaire" required>
                <!-- l'attribut pattern du titulaire a été généré par chat GPT -->
                <span id="err_titulaire" class="erreur" role="alert" aria-live="polite"></span>
            </label>
            <label>
                Numéro de carte de crédit:
                <input id="cc" type="text" name="nocartecredit" inputmode="numeric" autocomplete="cc-number" placeholder="1111 1111 1111 1111" maxlength="16" pattern="^[0-9]{4}[ ]?[0-9]{4}[ ]?[0-9]{4}[ ]?[0-9]{4}$" aria-invalid="true" aria-describedby="err_cc" required>
            </label>
            <span id="err_cc" class="erreur" role="alert" aria-live="polite"></span>
            <label>
                Date d'expiration:
                <input id="expiration" type="month" name="expiration" autocomplete="cc-exp" aria-invalid="true" aria-describedby="err_expiration" required>
            </label>
            <span id="err_expiration" class="erreur" role="alert" aria-live="polite"></span>
            <label>
                Code de sécurité:
                <input id="securitycode" type="text" name="codesecurite" inputmode="numeric" autocomplete="cc-csc" placeholder="123" maxlength="4" pattern="^[0-9]{3-4}$" aria-invalid="true" aria-describedby="err_securitycode" required>
            </label>
            <span id="err_securitycode" class="erreur" role="alert" aria-live="polite"></span>
            <h2>Résumé du don</h2>
            <p>Prénom Nom</p>
            <p>Montant de 25$ mensuel</p>
        </fieldset>       
        
        <fieldset name="etape" id="etape4">
            <legend class="titreNiveau3">Merci pour votre don!</legend>
        </fieldset>
      </form>
        <button class="bouton" :hover type="button" id="btn-precedent">Précédent</button>
        <button class="bouton" :hover type="button" id="btn-suivant">Suivant</button>
        <button class="bouton" type="button" id="btn-envoyer">Envoyer mon don</button>
    </main>

    <footer>
        <small>Tous droits réservés.</small>
    </footer>
</body>

</html>

